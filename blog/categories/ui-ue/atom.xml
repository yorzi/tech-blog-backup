<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: UI/UE | @yorzi]]></title>
  <link href="http://tech.wangyaodi.com/blog/categories/ui-ue/atom.xml" rel="self"/>
  <link href="http://tech.wangyaodi.com/"/>
  <updated>2012-10-23T16:13:35+08:00</updated>
  <id>http://tech.wangyaodi.com/</id>
  <author>
    <name><![CDATA[Andy Wang]]></name>
    <email><![CDATA[wangyaodi@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[JS note: setTimeout and setInterval]]></title>
    <link href="http://tech.wangyaodi.com/2011/03/09/settimeout-and-setinterval/"/>
    <updated>2011-03-09T00:00:00+08:00</updated>
    <id>http://tech.wangyaodi.com/2011/03/09/settimeout-and-setinterval</id>
    <content type="html"><![CDATA[<p>Yesterday, I discussed a JS issue with <a href="http://www.yakjuly.com/">Blade</a>, that I have to set up an automatic photo-switch effect on an existing page. I don't want to change anything except adding a piece of javascript for doing that job because this page is already messy up by another engineer. Blade suggested I should use <strong><a href="https://developer.mozilla.org/en/DOM/window.setTimeout">setTimeout</a></strong> for this effect.</p>

<h4><strong>* Case Study</strong></h4>


<p>The basic case is something like below(there are some other effects based on the structure and style, so don't affect others):
<code lang='html'></p>

<div id="tab_ls">
        <a class="active" id="haikou"></a>
    <a id="dalian"></a>  
        <a id="changsha"></a> 
</div>




<div id="tab_con">
    <div style="display: block;" id="fk">   
        <div id="end"></div>
        <div id="ctt">
            <img src="http://www.2011roadshow.com/images/haikou.jpg">
                    <h3>会议城市：海口</h3>
            <p>时间：8月26日 14：00-18：00</p>
                    <p>地点：海口鑫源温泉大酒店</p>
        </div>
    </div>
        
    <div id="fk" style="display:none">
        <div id="end"></div>
            <div id="ctt">
            <img src="http://www.2011roadshow.com/images/dalian.jpg">
                    <h3>会议城市：大连</h3>
            <p>时间：9月3日 14：00-18：00</p>
                    <p>地点：香洲花园酒店 </p>
        </div>
    </div>

    <div id="fk" style="display:none">
        <div id="end"></div>
            <div id="ctt">
            <img src="images/changsha.jpg">
                    <h3>城市：长沙</h3>
            <p>时间：9月4日 14：00-18：00</p>
                    <p>地点：长沙潇湘华天大酒店</p>
        </div>
    </div>
</div>


<p></code>
Now the task is to write a js to roll the cities and regarding images, how to make it happen?</p>

<h4>* Solution with <strong>setTimeout</strong></h4>


<p><code lang='javascript'></p>

<script type="text/javascript">
    var cities;
    var cityImages;
    var currentCity;
    var pause = false;
    var timer1;
    var timer2 ;
    
    function showNextImage()
    {           
        if (pause) {
            // do nothing
        } else {
            console.log("show next image");
            console.log(currentCity);
            if(cities.last() == currentCity) {
                currentCity = currentCity.first();
            } else {
                currentCity = currentCity.next();
            }
            console.log(currentCity);
            
            var index = cities.index(currentCity);
            console.log(index);
            cityImages.hide();
            console.log(cityImages.get(index));
            $(cityImages.get(index)).show();
            cities.removeClass("active")
            currentCity.addClass("active");
        }
        timer1 = window.setTimeout("showNextImage()", 2000);
    }
    
    function repeatPlay()
    {   
        console.log("repeat play");
        showNextImage();
        if (timer2 != null){
            clearTimeout(timer2);
            timer2 = null;
        }
    }

  $(window).load(function(){
    cities = $("#tab_ls a");
    cityImages = $("#tab_con div#fk");
    currentCity = cities.first()
    console.log(cities);
    console.log("window load");
    repeatPlay();
    $("#tab_ls a").click(function(){
                clearTimeout(timer1);
        timer1 = null;
            timer2 = window.setTimeout("repeatPlay()", 6000);
    });
  });
</script>


<p></code>
Actually, you can figure out this effect with <strong><a href="https://developer.mozilla.org/en/window.setInterval">setInterval</a></strong> as well. The difference between setTimeout and setInterval is how many times you want to run the function which is set as their parameters. setTimeout will execute the function only once when time is out. But setInterval execute the function repeatedly in certain interval which is set as a parameter.</p>

<p>Every time you should remember to clear the Timeout or Interval after finish your job through <strong><a href="https://developer.mozilla.org/en/DOM/window.clearTimeout">clearTimeout</a></strong> and <strong><a href="https://developer.mozilla.org/en/DOM/window.clearInterval">clearInterval</a></strong>.</p>

<p>I have linked the regarding references for the four methods about, you should read the document and related samples to know more details.</p>

<p>More Resources:
<a href="http://hi.baidu.com/ruhaole/blog/item/af905fefc2dad33aadafd57a.html">如何在jQuery中使用 setInterval，setTimeout</a>
<a href="http://cn.dydou.cn/wyzz/2010/0710/13733.html">jQuery：Tab切换功能的集合</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[where optimization happens]]></title>
    <link href="http://tech.wangyaodi.com/2010/08/27/where-optimization-happens/"/>
    <updated>2010-08-27T00:00:00+08:00</updated>
    <id>http://tech.wangyaodi.com/2010/08/27/where-optimization-happens</id>
    <content type="html"><![CDATA[<p>Jonathan just mentioned <a href="http://www.idapted.com/blog/2010/08/16/small-details-big-gains/" target="_blank">small details and big gains</a> in his post days ago, I totally agree with him from technology perspective, meanwhile, I found more samples to support his points. Yeah, technology is born for changing people's life, I call this kind of changes as Optimization.Optimization is happening everyday to Idapted Platform, as it's one of most important way to become perfect.</p>

<p>In last week, our StudyCenter, the front end user interface system, was optimized in its registration flow. Previously, we have many registration channels for different partners. Our marketing department is mainly responsible for these registration channels, and update them frequently. Accordingly, technology team and sales team also need to cooperate. Here problem is, demands change more quickly than tech guys and sales system can follow up.</p>

<p>Now we refactor the control of registration flow, to re-think every departments' needs, we split the conditions for each department, after this improvement, people in different departments will not affect others, specially to tech guys, this is more flexible and maintainable. They will not messy all the situations up.</p>

<p>Another sample of optimization is that, we iterated many rounds of development to build a CRM system internally before, however, we integrated too many features inside the CRM, which were used by different departments. Because Idapted customers' accounts are increasing rapidly, the speed of whole system is getting slower and slower. Obviously, the CRM system needs optimization.</p>

<p>We finally split the CRM system in three parts which are used by different people, The independent and small system is well designed for certain users, that's the key of this Optimization. It gains us faster system response and clearer business devision.</p>

<p>All in all, to serve learners better user experience, to improve internal working process or to increase system efficiency, all of these optimizations are about making things perfect. This is the belief of <a href="http://www.idapted.com">Idapted</a>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[UI Framework]]></title>
    <link href="http://tech.wangyaodi.com/2009/11/17/ui-framework/"/>
    <updated>2009-11-17T00:00:00+08:00</updated>
    <id>http://tech.wangyaodi.com/2009/11/17/ui-framework</id>
    <content type="html"><![CDATA[<p>最近发现了几个UI framework，接下来我要把他们和RoR优美的结合起来，这样以来，在做什么应用的时候，就不愁没有Style了。</p>

<ol>
<li><p>一个依赖于JQuery的UI库，很喜欢。<a href="http://jqueryui.com/">http://jqueryui.com/</a></p></li>
<li><p>一个依赖于<a title="prototype.js official website" href="http://prototypejs.org/">Prototype</a> 和 <a title="Script.aculo.us official website" href="http://script.aculo.us/">Script.aculo.us</a>的库，也很不错。<a href="http://scripteka.com/">http://scripteka.com/</a></p></li>
<li><p>还是一个基于Prototype的UI库<a href="http://livepipe.net/">http://livepipe.net/</a></p></li>
<li><p>YUI, Google搜索“<a href="http://www.google.com/search?hl=en&client=firefox-a&rls=com.ubuntu%3Aen-US%3Aunofficial&hs=96C&q=UI+framework&btnG=Search&aq=f&oq=&aqi=g-p1g-c3g1g-c5">UI Framework</a>”得到的第一个链接。</p></li>
</ol>

]]></content>
  </entry>
  
</feed>
